<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- This meta tag ensures that the website renders correctly across different device sizes, enhancing mobile responsiveness. -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Link to the external CSS stylesheet. Uncomment if you wish to customize or add styling. -->
    <link rel="stylesheet" href="styles.css">  

    <title>Database Application</title>
</head>
<body>
    <!-- ===================================================================================== -->
    <!-- Display the current status of the database connection. 
         !!HERE TO HELP U DEBUGGING, NOT REQUIRED IN YOUR OWN PROJECT!!
         -->
    <!-- <h1>Database Connection Status: 
        <span id="dbStatus"> </span>
        <img id="loadingGif" class="loading-gif" src="loading_100px.gif" alt="Loading...">
    </h1> -->

    <img src="images/title.png" alt="Title" width="800" height="auto" class="center">
    <hr class="rounded">
    <img src="images/humidity.png" alt="Humidity" width="800" height="auto" class="center">
    <table id="demotable" border="1">
        <thead>
            <tr>
                <!--Table head, need to be adjusted accordingly to align with your own.-->
                <th class= "blue">Humidity</th>
                <th class="blue">Cloud Coverage</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    
    <!-- TABBED PANE FEATURE CITE: https://www.w3schools.com/w3css/w3css_tabulators.asp -->

    <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'resetTab')">Reset</button>
        <button class="tablinks" onclick="openTab(event, 'insertTab')">Insert</button>
        <button class="tablinks" onclick="openTab(event, 'selectTab')">Select</button>
        <button class="tablinks" onclick="openTab(event, 'deleteTab')">Delete</button>
      </div>
      
      <div id="resetTab" class="tabcontent">
        <h2>Reset HumidityAndCloudCoverage</h2>
        <p>If you wish to reset the table press on the reset button. If this is the first time you're running this page, you MUST use reset</p>
        <button id="resetDemotable" class="button-grey"> Reset </button> <br>
        <!-- A placeholder to display messages related to the reset operation. -->
        <div id="resetResultMsg"></div>
      </div>
      
      <div id="insertTab" class="tabcontent">
        <h2> Insert Values into HumidityAndCloudCoverage </h2>
        <form id="insertDemotable">
            Humidity: <input type="number" id="insertId" placeholder="Enter Humidity" required> <br><br>
            CloudCoverage: <input type="number" id="insertName" placeholder="Enter CloudCoverage" maxlength="20"> <br><br>
    
            <button type="submit"> Insert </button> <br>
        </form>
        <div id="insertResultMsg"></div>
      </div>
      
      <div id="selectTab" class="tabcontent">
 <!--SELECTION-->
 <h2>Select from HumidityAndCloudCoverage</h2>
 <p>Select a tuple with a specified condition</p>

 <div id="show_attributes">
     <label for ="attribute_list">Which attributes would you like to show?</label>
     <select id="attribute_list">
         <option value="*">ALL</option>
         <option value="Humidity">Humidity</option>
         <option value="CloudCoverage">Cloud Coverage</option>
     </select>
 </div>
 <br>
 <!--CITATIONS:-->
 <!--https://stackoverflow.com/questions/3488447/html-form-with-side-by-side-input-fields-->
 <!--https://stackoverflow.com/questions/42015443/new-input-on-button-click-->
 <!--https://www.w3schools.com/jsref/prop_style_display.asp -->
 <label>Condition:</label>
 <div name="input_boxes" id="user_inputs">
     <!--clauses drop down menu-->
     <div style="float:left; display: none;" id="select_logic_op">
        <select id="logic_op">
            <!--Here would be options for AND and OR-->
        </select>
     </div>

    <!--Choosing attributes-->
     <div style="float:left" id="select_attribute">
         <select id="attr_list">
             <option value="Humidity">Humidity</option>
             <option value="CloudCoverage">Cloud Coverage</option>
         </select>
     </div>

     <label style="float:left">=</label>
      <!--Choosing numeric values-->
      <div style="float:left" id="select_num">
         <input type="number" inputmode="decimal" name = "value" id = "num_val" value = "0.0" step="any">
     </div>   
      <br><!--line break-->
 </div>

 <!--User adds input boxes here-->
 <div id="added_input_boxes"></div>
 <br>
 <!--Buttons for adding input boxes--> 
 <button id="add_input_boxes" type="submit">+</button>
 <button id = "remove_input_boxes" type="submit">-</button>
 <!--Buttons for submitting query-->
 <br><br>
 <button id = "submit_q" type="submit"> Get Results</button> 


 <!--Displays message that outputs success or failure of query-->
 <div id="selection_result_msg" style="white-space: pre-wrap;"></div>
      </div>
      
      <div id="deleteTab" class="tabcontent">
        <h2> Delete Values from HumidityAndCloudCoverage </h2>
        <form id="deleteHumidityCloudCoverage">
        Humidity: <input type="number" id="deleteHumidity" placeholder="Enter Humidity" required> <br><br>
        <button type="submit"> Delete </button> <br>
    </form>
    <div id="deleteHumidityCloudMsg"></div>
      </div>
      <hr class="rounded">
    <img src="images/temp.png" alt="TempPrecipitationHumidity" width="800" height="auto" class="center">
    <table id="tempPrecipitationTable" border="1">
        <thead>
            <tr>
                <th class="blue">Temperature</th>
                <th class="blue">Precipitation</th>
                <th class="blue">Humidity</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <b>Take a look at it combined!</b>

<table id="joinedHumidityPrecip" border="1">
    <thead>
        <tr>
            <!--Table head, need to be adjusted accordingly to align with your own.-->
            <th class = "blue">Temperature</th>
            <th class = "blue">Precipitation</th>
            <th class = "blue">Humidity</th>
            <th class = "blue">Cloud Coverage</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>

<div class="tab">
    <button class="tablinks" onclick="openTab(event, 'reset1Tab')">Reset</button>
    <button class="tablinks" onclick="openTab(event, 'insert1Tab')">Insert</button>
    <button class="tablinks" onclick="openTab(event, 'update1Tab')">Update Humidity</button>
    <button class="tablinks" onclick="openTab(event, 'updateCloudTab')">Update Cloud Coverage</button>
    <button class="tablinks" onclick="openTab(event, 'avgTempTab')">Average</button>
    <button class="tablinks" onclick="openTab(event, 'aggregationTab')">Aggregation</button>
  </div>

  <div id="reset1Tab" class="tabcontent">
<h2>Reset TempPrecipitationHumidity</h2>
<p>If you wish to reset the table press on the reset button.</p>
<button id="resetTempPrecipitationHumidity"> Reset </button> <br>
<div id="resetTempResultMsg"></div>
</div>

<div id="insert1Tab" class="tabcontent">
<h2> Insert Values into TempPrecipitationHumidity </h2>
<form id="insertTempPrecipitationHumidity">
    Temperature: <input type="number" id="insertTemperature" placeholder="Enter Temperature" required> <br><br>
    Precipitation: <input type="number" id="insertPrecipitation" placeholder="Enter Precipitation" required> <br><br>
    Humidity: <input type="number" id="insertHumidity" placeholder="Enter Humidity"> <br><br>

    <button type="submit"> insert </button> <br>
</form>
<div id="insertTempResultMsg"></div>
</div>


<div id="update1Tab" class="tabcontent">
    <h2>Update Humidity in TempPrecipitationHumidity</h2>
    <p>Select which tuple you want to update based upon Temperature, Precipitation:</p>
    <!-- <label for="temp_prec_dropdown">Temperature, Precipitation:</label>
    <select id="temp_prec_dropdown" type="number"></select> 
    <br> -->
    <label for="temp_val">Temperature:</label>
    <input type="number" id = "temp_val" value = "0" required>
    <br>

    <label for="prec_val">Precipitation:</label>
    <input type="number" id = "prec_val" value = "0" required>
    <br>

    <label for="old_hum_val">Old humidity value:</label>
    <input type="number" id = "old_hum_val" value = "0" required>
    <br>

    <label for="new_hum_val">Choose a new value for Humidity:</label>
    <input type="number" id = "new_hum_val" value = "0" required>
    <br>

    <button id="update_hum" type="submit">Update Humidity</button>
    <div id="updateHumResultMsg"></div>
</div>

<div id="updateCloudTab" class="tabcontent">

    <h2>Update CloudCoverage</h2>
    <label for="cc_humidity">Humidity value:</label>
    <input type="number" id = "cc_humidity" value = "0" required>
    <br>

    <label for="new_cc_val">New CloudCoverage value:</label>
    <input type="number" id = "new_cc_val" value = "0" required>
    <br>
    <button id="update_cc" type="submit">Update Cloud Coverage</button>
    <div id="updateccResultMsg"></div>

</div>

<div id="avgTempTab" class="tabcontent">
    <h2>Find Average Temperature for Humidity</h2>
    <label>Find all average temperatures greater than your inputted temperature for all humidities greater than your inputted humidity!</label> 
    <br>
    <br>
    <form id="findAvgTemp">
        <label for="temperatureValue">Temperature Value in Celsius (Greater Than):</label>
        <input type="number" id="temperatureValue" name="temperatureValue" required value = "0">
        <br><br>
        <label for="humidityValue">Humidity Value (Greater Than):</label>
        <input type="number" id="humidityValue" name="humidityValue" required value = "0">
        <br><br>
        <button type="submit" id="humidityAverageTempButton">Show Average Temperatures</button>
    </form>
    <div id="avgResultMsg"></div>
    <!-- Here, we will display the table -->
    <table id="avgTempTable" border="1">
        <thead>
            <tr>
                <th class="blue">Humidity</th>
                <th class="blue">Average Temperature (°C)</th>
            </tr>
        </thead>
        <tbody>
            <!-- Results will be inserted here dynamically -->
        </tbody>
    </table>
</div>

<div id="aggregationTab" class="tabcontent">
     <h2>Nested Aggregation With Group By</h2>  
     <label>Find all precipitations for which the average cloud coverage is minimum over all cloud coverages!</label> 
     <br>
     <button id="sub_nested_a" type="submit">Get Result</button>
     <div id="result_of_nested_a_msg" style="white-space: pre-wrap;"></div>
    </div>

    <!-- https://www.w3schools.com/html/tryit.asp?filename=tryhtml_table_intro-->
    <head>
        <style>
        table {
          font-family: arial, sans-serif;
          border-collapse: collapse;
          width: 100%;
        }
        
        td, th {
          border: 1px solid #dddddd;
          text-align: left;
          padding: 8px;
        }
        
        tr:nth-child(even) {
          background-color: #BFD4DB;
        }
        </style>
        </head>
        <body>
            <hr class="rounded">
<img src="images/cities.png" alt="CitiesAndCommunityTypes" width="800" height="auto" class="center">
    <table id="CitiesTable">
        <thead>
            <tr>
                <th class = "blue">City Name</th>
                <th class = "blue">Community Type</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <h2>Find City Count by Community Type</h2>
    <form id="findCityCountForm">
        <label for="communityType">Community Type:</label>
        <input type="text" id="communityType" name="communityType" required placeholder="Enter community type (e.g., Urban, Rural)">
        <br><br>
        <button type="submit" id="findCityCountButton">Show City Count</button>
    </form> 
    <div id="countResultMsg"></div>
    <div id="cityCountResult">
    </div>
    <hr class="rounded">
    <img src="images/vert.png" alt="vertebratesInvertebrates" width="800" height="auto" class="center">
    <table id="circulationSystemsTable">
        <thead>
            <tr>
                <th class = "blue">hasVertebrae</th>
                <th class = "blue">Circulation System</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <hr class="rounded">
    <table id="vertebratesTable">
        <thead>
            <tr>
                <th class = "blue">Animal Scientific Name</th>
                <th class = "blue">Has Vertebrae</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <h2>Join Vertebrates and Circulation</h2>
    <p>I want to view animals whose hasVertebrae trait is...</p>
    <!--CITE FOR DROPDOWN: https://www.w3schools.com/tags/tag_select.asp-->
    <select id="hasVertebrae">
        <option value="1">CLOSED</option>
        <option value="0">OPEN</option>
    </select>
    
    <button id="joinButton">Join</button>
    <div id="joinResultMsg"></div>
    <h3>Results:</h3>
    <table id="joinResultTable" border="1">
    <thead>
        <tr>
            <th class = "blue">Vertebrate Name</th>
            <th class = "blue">Has Vertebrae</th>
            <th class = "blue">Circulation System</th>
        </tr>
    </thead>
    <tbody>
        <!-- WILL BE POPULATED -->
    </tbody>
</table>
<hr class="rounded">
<img src="images/nature.png" alt="NaturalDisastersOccurrencesInBC" width="800" height="auto" class="center">
<!--CITE: https://www.w3schools.com/tags/att_input_type_checkbox.asp-->
<label><input type="checkbox" id="checkType" checked> NaturalDisasterType</label>
<label><input type="checkbox" id="checkCity" checked> CityName</label>
<label><input type="checkbox" id="checkYear" checked> YearOfMostRecentOccurence</label>
<label><input type="checkbox" id="checkAreaDamaged" checked> AreaDamaged</label>
<button id="generateSQL">Select</button>

    <table id="NaturalDisastersTable" border="1">
        <thead>
            <tr>
                <th class = "blue">NaturalDisasterType</th>
                <th class = "blue">CityName</th>
                <th class = "blue">AreaDamaged</th>
                <th class = "blue">YearOfMostRecentOccurence</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <button id="resetNaturalDisasters"> Reset </button> <br>
    <div id="resetNaturalDisastersMsg"></div>
    <p>Click here to find out which city had a natural disaster occur every year!</p>
    <button id="divideNaturalDisaster"> Show me! </button> <br>
    <div id="divisionResultMsg"></div>
    <h3>Results:</h3>
    <table id="divisionResultTable" border="1">
    <thead>
        <tr>
            <th class="blue">CityName</th>
        </tr>
    </thead>
    <tbody>
        <!-- WILL BE POPULATED -->
    </tbody>
</table>

    <!-- ===================================================================================== -->
    <!-- External JavaScript file that contains the functionality/logic for the operations above. -->
    <script src="scripts.js"></script>
</body>
</html>